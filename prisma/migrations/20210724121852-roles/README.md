# Migration `20210724121852-roles`

This migration has been generated by Pavlo Strunkin <pashidlos@gmail.com> at 7/24/2021, 3:18:52 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."Role" AS ENUM ('admin', 'editor', 'guest')

ALTER TABLE "User" ADD COLUMN     "role" "Role" NOT NULL DEFAULT E'guest'
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210709133029-275-project-to-testrun-relation..20210724121852-roles
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Build {
   id         String    @id @default(uuid())
@@ -122,8 +122,9 @@
   apiKey    String     @unique
   isActive  Boolean    @default(true)
   builds    Build[]
   baselines Baseline[]
+  role      Role       @default(guest)
   updatedAt DateTime   @updatedAt
   createdAt DateTime   @default(now())
 }
@@ -140,4 +141,10 @@
   pixelmatch
   lookSame
   odiff
 }
+
+enum Role {
+  admin
+  editor
+  guest
+}
```


