# Migration `20210228121726-test-run--nullable-test-variation-id`

This migration has been generated by Pavel Strunkin at 2/28/2021, 2:17:26 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TYPE "TestStatus" ADD VALUE 'autoApproved'
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210130115922-test-run-auto-approve-status-added..20210228121726-test-run--nullable-test-variation-id
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Build {
   id         String    @id @default(uuid())
@@ -38,35 +38,35 @@
   @@unique([name])
 }
 model TestRun {
-  id                    String        @id @default(uuid())
+  id                    String         @id @default(uuid())
   imageName             String
   diffName              String?
   diffPercent           Float?
-  diffTollerancePercent Float         @default(0)
+  diffTollerancePercent Float          @default(0)
   pixelMisMatchCount    Int?
   status                TestStatus
   buildId               String
-  build                 Build         @relation(fields: [buildId], references: [id])
-  testVariationId       String
-  testVariation         TestVariation @relation(fields: [testVariationId], references: [id])
-  merge                 Boolean       @default(false)
-  updatedAt             DateTime      @updatedAt
-  createdAt             DateTime      @default(now())
+  build                 Build          @relation(fields: [buildId], references: [id])
+  testVariationId       String?
+  testVariation         TestVariation? @relation(fields: [testVariationId], references: [id])
+  merge                 Boolean        @default(false)
+  updatedAt             DateTime       @updatedAt
+  createdAt             DateTime       @default(now())
   // Test variation data
-  name                  String        @default("")
+  name                  String         @default("")
   browser               String?
   device                String?
   os                    String?
   viewport              String?
   baselineName          String?
   comment               String?
   baseline              Baseline?
-  branchName            String        @default("master")
+  branchName            String         @default("master")
   baselineBranchName    String?
-  ignoreAreas           String        @default("[]")
-  tempIgnoreAreas       String        @default("[]")
+  ignoreAreas           String         @default("[]")
+  tempIgnoreAreas       String         @default("[]")
 }
 model TestVariation {
   id           String     @id @default(uuid())
```


